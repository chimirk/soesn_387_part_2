Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM_[Changes]/shelved.patch	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ /dev/null	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
@@ -1,63 +0,0 @@
-Index: src/main/webapp/login_page_funtionality.jsp
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><%@ page import=\"java.util.ArrayList\" %>\r\n<%@ page import=\"java.security.MessageDigest\" %>\r\n<%@ page import=\"java.security.NoSuchAlgorithmException\" %>\r\n<%@ page import=\"java.io.BufferedReader\" %>\r\n<%@ page import=\"java.io.FileReader\" %>\r\n<%@ page import=\"java.io.IOException\" %>\r\n<%@ page import=\"com.google.gson.Gson\" %>\r\n<%\r\n    String username = \"\";\r\n    String userpassword = \"\";\r\n    ArrayList<String> errors = new ArrayList();\r\n    String pathName = \"path/users.json\";\r\n\r\n    if (\"POST\".equals(request.getMethod())) {\r\n        if (request.getParameter(\"login_btn\") != null) {\r\n            username = request.getParameter(\"username\");\r\n            if (username.isEmpty()) errors.add(\"Username is required\");\r\n            userpassword = request.getParameter(\"userpassword\");\r\n            if (userpassword.isEmpty()) errors.add(\"Password is required\");\r\n\r\n            if (errors.size() == 0) {\r\n                //calculate MD5 hash of password\r\n                MessageDigest md = null;\r\n                try {\r\n                    md = MessageDigest.getInstance(\"MD5\");\r\n                    md.update(userpassword.getBytes());\r\n                    byte[] bytes = md.digest();\r\n                    StringBuilder sb = new StringBuilder();\r\n                    for (int i = 0; i < bytes.length; i++) {\r\n                        sb.append(Integer.toString((bytes[i] & 0xff) + 0x100, 16).substring(1));\r\n                    }\r\n                    userpassword = sb.toString();\r\n                } catch (NoSuchAlgorithmException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                //read from JSON file and see if username and password match.\r\n                User[] users = readJsonFile(pathName);\r\n\r\n                //check if we have a user match\r\n                User loggedInUser = null;\r\n                for(int i = 0; i < users.length; i++) {\r\n                    if(users[i].id.equals(username) &&\r\n                            users[i].hashedPassword.equals(userpassword)) {\r\n                        loggedInUser = users[i];\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                //if loggedInUser is not null, we are logged in\r\n                if (loggedInUser != null) {\r\n\r\n                } else {\r\n                    errors.add(\"Wrong username/password combination\");\r\n                }\r\n\r\n            }  //end no errors\r\n        }\r\n    }\r\n\r\n%>\r\n<%!\r\n    private static User[] readJsonFile(String pathName) throws IOException {\r\n        String jsonText = \"\";\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(pathName))) {\r\n            StringBuilder sb = new StringBuilder();\r\n            String line = br.readLine();\r\n\r\n            while (line != null) {\r\n                sb.append(line);\r\n                sb.append(System.lineSeparator());\r\n                line = br.readLine();\r\n            }\r\n            jsonText = sb.toString();\r\n        }\r\n\r\n        //parse jsonText to array of objects\r\n        Gson g = new Gson();\r\n        User[] users = g.fromJson(jsonText, User[].class);\r\n\r\n        return users;\r\n        //parse jsonText to array of objects\r\n\r\n    }\r\n\r\n    public class User {\r\n        public String id;\r\n        public String fullName;\r\n        public String email;\r\n        public String hashedPassword;\r\n    }\r\n%>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/webapp/login_page_funtionality.jsp b/src/main/webapp/login_page_funtionality.jsp
---- a/src/main/webapp/login_page_funtionality.jsp	(revision a7ae7ca873c28e8a0b2966300db35f61b123e4ea)
-+++ b/src/main/webapp/login_page_funtionality.jsp	(date 1636659120552)
-@@ -9,7 +9,7 @@
-     String username = "";
-     String userpassword = "";
-     ArrayList<String> errors = new ArrayList();
--    String pathName = "path/users.json";
-+    String pathName = "src/main/webapp/users.json";
- 
-     if ("POST".equals(request.getMethod())) {
-         if (request.getParameter("login_btn") != null) {
-@@ -49,6 +49,7 @@
- 
-                 //if loggedInUser is not null, we are logged in
-                 if (loggedInUser != null) {
-+                    response.sendRedirect("/UserPage.jsp");
- 
-                 } else {
-                     errors.add("Wrong username/password combination");
-Index: target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><%@ page import=\"java.util.ArrayList\" %>\r\n<%@ page import=\"java.security.MessageDigest\" %>\r\n<%@ page import=\"java.security.NoSuchAlgorithmException\" %>\r\n<%@ page import=\"java.io.BufferedReader\" %>\r\n<%@ page import=\"java.io.FileReader\" %>\r\n<%@ page import=\"java.io.IOException\" %>\r\n<%@ page import=\"com.google.gson.Gson\" %>\r\n<%\r\n    String username = \"\";\r\n    String userpassword = \"\";\r\n    ArrayList<String> errors = new ArrayList();\r\n    String pathName = \"users.json\";\r\n\r\n    if (\"POST\".equals(request.getMethod())) {\r\n        if (request.getParameter(\"login_btn\") != null) {\r\n            username = request.getParameter(\"username\");\r\n            if (username.isEmpty()) errors.add(\"Username is required\");\r\n            userpassword = request.getParameter(\"userpassword\");\r\n            if (userpassword.isEmpty()) errors.add(\"Password is required\");\r\n\r\n            if (errors.size() == 0) {\r\n                //calculate MD5 hash of password\r\n                MessageDigest md = null;\r\n                try {\r\n                    md = MessageDigest.getInstance(\"MD5\");\r\n                    md.update(userpassword.getBytes());\r\n                    byte[] bytes = md.digest();\r\n                    StringBuilder sb = new StringBuilder();\r\n                    for (int i = 0; i < bytes.length; i++) {\r\n                        sb.append(Integer.toString((bytes[i] & 0xff) + 0x100, 16).substring(1));\r\n                    }\r\n                    userpassword = sb.toString();\r\n                } catch (NoSuchAlgorithmException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                \r\n                System.out.println(\"Working Directory = \" + System.getProperty(\"user.dir\"));\r\n\r\n                //read from JSON file and see if username and password match.\r\n                User[] users = readJsonFile(pathName);\r\n\r\n                //check if we have a user match\r\n                User loggedInUser = null;\r\n                for(int i = 0; i < users.length; i++) {\r\n                    if(users[i].id.equals(username) &&\r\n                            users[i].hashedPassword.equals(userpassword)) {\r\n                        loggedInUser = users[i];\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                //if loggedInUser is not null, we are logged in\r\n                if (loggedInUser != null) {\r\n\r\n                } else {\r\n                    errors.add(\"Wrong username/password combination\");\r\n                }\r\n\r\n            }  //end no errors\r\n        }\r\n    }\r\n\r\n%>\r\n<%!\r\n    private static User[] readJsonFile(String pathName) throws IOException {\r\n        String jsonText = \"\";\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(pathName))) {\r\n            StringBuilder sb = new StringBuilder();\r\n            String line = br.readLine();\r\n\r\n            while (line != null) {\r\n                sb.append(line);\r\n                sb.append(System.lineSeparator());\r\n                line = br.readLine();\r\n            }\r\n            jsonText = sb.toString();\r\n        }\r\n\r\n        //parse jsonText to array of objects\r\n        Gson g = new Gson();\r\n        User[] users = g.fromJson(jsonText, User[].class);\r\n\r\n        return users;\r\n        //parse jsonText to array of objects\r\n\r\n    }\r\n\r\n    public class User {\r\n        public String id;\r\n        public String fullName;\r\n        public String email;\r\n        public String hashedPassword;\r\n    }\r\n%>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp b/target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp
---- a/target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp	(revision a7ae7ca873c28e8a0b2966300db35f61b123e4ea)
-+++ b/target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp	(date 1636659120552)
-@@ -9,7 +9,7 @@
-     String username = "";
-     String userpassword = "";
-     ArrayList<String> errors = new ArrayList();
--    String pathName = "users.json";
-+    String pathName = "src/main/webapp/users.json";
- 
-     if ("POST".equals(request.getMethod())) {
-         if (request.getParameter("login_btn") != null) {
-@@ -33,8 +33,6 @@
-                 } catch (NoSuchAlgorithmException e) {
-                     e.printStackTrace();
-                 }
--                
--                System.out.println("Working Directory = " + System.getProperty("user.dir"));
- 
-                 //read from JSON file and see if username and password match.
-                 User[] users = readJsonFile(pathName);
-@@ -51,6 +49,7 @@
- 
-                 //if loggedInUser is not null, we are logged in
-                 if (loggedInUser != null) {
-+                    response.sendRedirect("/UserPage.jsp");
- 
-                 } else {
-                     errors.add("Wrong username/password combination");
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM__Changes_.xml	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ /dev/null	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
@@ -1,14 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]" date="1636696785785" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/12/2021 12:59 AM [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" value="target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/com/main/Main.class" />
-    <option name="AFTER_PATH" value="target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/com/main/Main.class" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/Main.class" />
-  </binary>
-  <binary>
-    <option name="BEFORE_PATH" value="target/classes/com/example/soen_387_part_2/HelloServlet.class" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM__Changes_.xml	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ /dev/null	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
@@ -1,9 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM_[Changes]" date="1636659576852" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 11/11/2021 2:38 PM [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" value="target/classes/com/example/soen_387_part_2/HelloServlet.class" />
-    <option name="AFTER_PATH" />
-    <option name="SHELVED_PATH" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/shelved.patch	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ /dev/null	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
@@ -1,110 +0,0 @@
-Index: target/soen_387_part_2-1.0-SNAPSHOT/login_page.jsp
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><%--\r\n  Created by IntelliJ IDEA.\r\n  User: tigerrrr\r\n  Date: 11/10/2021\r\n  Time: 4:13 PM\r\n  To change this template use File | Settings | File Templates.\r\n--%>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<html>\r\n<head>\r\n    <title>Title</title>\r\n</head>\r\n<body>\r\n<form>\r\n    <div>\r\n        <label></label>\r\n        <input type=\"text\">\r\n    </div>\r\n\r\n    <div>\r\n        <label></label>\r\n        <input type=\"password\">\r\n    </div>\r\n\r\n    <div>\r\n        <button>Login</button>\r\n    </div>\r\n    <p class=\"col-sm-offset-2 col-sm-10\">\r\n        Not yet a member? <a href=\"\">Sign up</a>\r\n    </p>\r\n\r\n</form>\r\n\r\n</body>\r\n</html>\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/login_page.jsp b/target/soen_387_part_2-1.0-SNAPSHOT/login_page.jsp
---- a/target/soen_387_part_2-1.0-SNAPSHOT/login_page.jsp	(revision 46cf9b5256fe550e07992f2734631381486d96b5)
-+++ b/target/soen_387_part_2-1.0-SNAPSHOT/login_page.jsp	(date 1636659238199)
-@@ -6,30 +6,44 @@
-   To change this template use File | Settings | File Templates.
- --%>
- <%@ page contentType="text/html;charset=UTF-8" language="java" %>
-+<%@ include file="login_page_funtionality.jsp"%>
- <html>
- <head>
--    <title>Title</title>
-+    <title>Login Page</title>
- </head>
- <body>
--<form>
--    <div>
--        <label></label>
--        <input type="text">
--    </div>
-+
-+<div>
-+    <h1>Please login to continue</h1>
-+</div>
- 
--    <div>
--        <label></label>
--        <input type="password">
-+<form class="" method="post" id="" action="login_page.jsp">
-+    <div class="" role="alert">
-+        <%--Display error--%>
-+        <% for (int i = 0; i < errors.size(); i++) { %>
-+        <p><%= errors.get(i)%></p>
-+        <% } %>
-+
-     </div>
- 
--    <div>
--        <button>Login</button>
-+    <div class="">
-+        <label class="" for="username">Username</label>
-+        <input type="text" id="username" class="" name="username">
-+    </div>
-+
-+    <div class="">
-+        <label class="" for="userpassword">Password</label>
-+        <input type="password" id="userpassword" name="userpassword">
-     </div>
--    <p class="col-sm-offset-2 col-sm-10">
-+
-+    <div class="">
-+        <button type="submit" class="" name="login_btn">Login</button>
-+    </div>
-+
-+    <p class="">
-         Not yet a member? <a href="">Sign up</a>
-     </p>
- 
- </form>
--
- </body>
- </html>
-Index: target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><%@ page import=\"java.util.ArrayList\" %>\r\n<%@ page import=\"java.security.MessageDigest\" %>\r\n<%@ page import=\"java.security.NoSuchAlgorithmException\" %>\r\n<%@ page import=\"java.io.BufferedReader\" %>\r\n<%@ page import=\"java.io.FileReader\" %>\r\n<%@ page import=\"java.io.IOException\" %>\r\n<%@ page import=\"com.google.gson.Gson\" %>\r\n<%\r\n    String username = \"\";\r\n    String userpassword = \"\";\r\n    ArrayList<String> errors = new ArrayList();\r\n    String pathName = \"/Users/pierrickcatalo/IdeaProjects/soesn_387_part_2/src/main/webapp/users.json\";\r\n\r\n    if (\"POST\".equals(request.getMethod())) {\r\n        if (request.getParameter(\"login_btn\") != null) {\r\n            username = request.getParameter(\"username\");\r\n            if (username.isEmpty()) errors.add(\"Username is required\");\r\n            userpassword = request.getParameter(\"userpassword\");\r\n            if (userpassword.isEmpty()) errors.add(\"Password is required\");\r\n\r\n            if (errors.size() == 0) {\r\n                //calculate MD5 hash of password\r\n                MessageDigest md = null;\r\n                try {\r\n                    md = MessageDigest.getInstance(\"MD5\");\r\n                    md.update(userpassword.getBytes());\r\n                    byte[] bytes = md.digest();\r\n                    StringBuilder sb = new StringBuilder();\r\n                    for (int i = 0; i < bytes.length; i++) {\r\n                        sb.append(Integer.toString((bytes[i] & 0xff) + 0x100, 16).substring(1));\r\n                    }\r\n                    userpassword = sb.toString();\r\n                } catch (NoSuchAlgorithmException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                //read from JSON file and see if username and password match.\r\n                User[] users = readJsonFile(pathName);\r\n\r\n                //check if we have a user match\r\n                User loggedInUser = null;\r\n                for (int i = 0; i < users.length; i++) {\r\n                    if (users[i].id.equals(username) &&\r\n                            users[i].hashedPassword.equals(userpassword)) {\r\n                        loggedInUser = users[i];\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                //if loggedInUser is not null, we are logged in\r\n                if (loggedInUser != null) {\r\n%>\r\n<h1>Logged In!</h1>\r\n<%\r\n                } else {\r\n                    errors.add(\"Wrong username/password combination\");\r\n                }\r\n\r\n            }  //end no errors\r\n        }\r\n    }\r\n%>\r\n<%!\r\n    private static User[] readJsonFile(String pathName) throws IOException {\r\n        String jsonText = \"\";\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(pathName))) {\r\n            StringBuilder sb = new StringBuilder();\r\n            String line = br.readLine();\r\n\r\n            while (line != null) {\r\n                sb.append(line);\r\n                sb.append(System.lineSeparator());\r\n                line = br.readLine();\r\n            }\r\n            jsonText = sb.toString();\r\n        }\r\n\r\n        //parse jsonText to array of objects\r\n        Gson g = new Gson();\r\n        User[] users = g.fromJson(jsonText, User[].class);\r\n\r\n        return users;\r\n        //parse jsonText to array of objects\r\n\r\n    }\r\n\r\n    public class User {\r\n        public String id;\r\n        public String fullName;\r\n        public String email;\r\n        public String hashedPassword;\r\n    }\r\n%>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp b/target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp
---- a/target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp	(revision 46cf9b5256fe550e07992f2734631381486d96b5)
-+++ b/target/soen_387_part_2-1.0-SNAPSHOT/login_page_funtionality.jsp	(date 1636659524239)
-@@ -9,7 +9,7 @@
-     String username = "";
-     String userpassword = "";
-     ArrayList<String> errors = new ArrayList();
--    String pathName = "/Users/pierrickcatalo/IdeaProjects/soesn_387_part_2/src/main/webapp/users.json";
-+    String pathName = "path/IdeaProjects/soesn_387_part_2/src/main/webapp/users.json";
- 
-     if ("POST".equals(request.getMethod())) {
-         if (request.getParameter("login_btn") != null) {
-Index: target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\r\n         version=\"4.0\">\r\n</web-app>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml b/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml
---- a/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml	(revision 46cf9b5256fe550e07992f2734631381486d96b5)
-+++ b/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml	(date 1636642800532)
-@@ -3,4 +3,11 @@
-          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-          xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
-          version="4.0">
-+    <welcome-file-list>
-+        <welcome-file>login_page.jsp</welcome-file>
-+    </welcome-file-list>
-+    <error-page>
-+        <error-code>500</error-code>
-+        <location>/errorPage.jsp</location>
-+    </error-page>
- </web-app>
-\ No newline at end of file
Index: target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page import=\"java.util.ArrayList\" %>\r\n<%@ page import=\"com.pollmanager.*\" %>\r\n<%@ page import=\"java.util.Objects\" %>\r\n<%@ page import=\"com.json.User\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%--\r\n<%@page errorPage=\"errorPage.jsp\" %>\r\n--%>\r\n\r\n\r\n<%\r\n    PollManager pollManager = new PollManager();\r\n    String title = \"\";\r\n    String question = \"\";\r\n    String [] listOfChoiceText = null;\r\n    String [] listOfDescription = null;\r\n    ArrayList<Choice> choices = null;\r\n    String userID = \"\";\r\n    String pollID = \"\";\r\n\r\n\r\n    User user = (User) session.getAttribute(\"loggedInUser\");\r\n    userID = user.id;\r\n\r\n    ArrayList<Poll> polls = pollManager.getAllPollsByUser(userID);\r\n\r\n\r\n    if((\"POST\".equalsIgnoreCase(request.getMethod()))){\r\n        title = request.getParameter(\"poll_title\") != null ? request.getParameter(\"poll_title\") : \"\";\r\n        question = request.getParameter(\"poll_question\") != null ? request.getParameter(\"poll_question\") : \"\";\r\n        listOfChoiceText = request.getParameterValues(\"choice_text\") != null ? request.getParameterValues(\"choice_text\") : null;\r\n        listOfDescription = request.getParameterValues(\"description\") != null ? request.getParameterValues(\"description\") : null;\r\n\r\n        if(Objects.nonNull(listOfChoiceText) && listOfChoiceText.length>=2){\r\n            choices = new ArrayList<>();\r\n            for(int i=0; i< listOfChoiceText.length;i++){\r\n                choices.add(new Choice(listOfChoiceText[i], Objects.requireNonNull(listOfDescription)[i]));\r\n            }\r\n        }\r\n\r\n        if(title.isEmpty()){\r\n            try {\r\n                throw new Exception(\"Please enter a title.\");\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        if(question.isEmpty()){\r\n            try {\r\n                throw new Exception(\"Please enter a question.\");\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i < Objects.requireNonNull(listOfChoiceText).length; i++) {\r\n            if (listOfChoiceText[i].isEmpty())\r\n                try {\r\n                    throw new Exception(\"Please enter a text for choice \" + (i + 1));\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n        }\r\n\r\n        for (int i = 0; i < Objects.requireNonNull(listOfDescription).length; i++) {\r\n            if (listOfChoiceText[i].isEmpty())\r\n                try {\r\n                    throw new Exception(\"Please enter a description for choice \" + (i + 1));\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n        }\r\n\r\n\r\n        if (request.getParameter(\"create\") != null) {\r\n            try {\r\n                pollManager.createPoll(title, question, choices, userID);\r\n            } catch (PollManagerException | PollException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n%>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp b/target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp
--- a/target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp	(date 1637264706644)
@@ -20,7 +20,13 @@
 
 
     User user = (User) session.getAttribute("loggedInUser");
-    userID = user.id;
+    if (user != null) {
+        userID = user.id;
+    } else {
+        response.sendRedirect("login_page.jsp");
+        return;
+    }
+
 
     ArrayList<Poll> polls = pollManager.getAllPollsByUser(userID);
 
Index: target/soen_387_part_2-1.0-SNAPSHOT/PollManagerViewPage.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page import=\"java.io.IOException\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ include file=\"PMViewServicePage.jsp\"%>\r\n<%@ include file=\"components/header.jsp\"%>\r\n\r\n<%\r\n    polls = pollManager.getAllPollsByUser(userID);\r\n    currentPoll = polls.get(Integer.parseInt(index));\r\n%>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-0 justify-content-end\">\r\n            <div class=\"h1\">\r\n                <a href=\"PollManagerPage.jsp\">Back</a>\r\n            </div>\r\n        </div>\r\n        <div class=\"col\">\r\n            <div class=\"d-flex align-items-center justify-content-center\">\r\n                <form class=\"form-horizontal w-50 border border-3 rounded-3 border-primary p-4\" action=\"PollManagerViewPage.jsp\" method=\"post\">\r\n                    <h1 class=\"text-center\">\"Current Poll\"</h1>\r\n                    <div class=\"form-group mt-2 mb-3\">\r\n                        <label class=\"control-label fs-3\" for=\"poll_title\">Poll Title</label>\r\n                        <input class=\"form-control\" id=\"poll_title\" type=\"text\" value=\"<%= title %>\" name=\"poll_title\" required />\r\n                    </div>\r\n                    <div class=\"form-group mb-3\">\r\n                        <label class=\"control-label fs-3\">Poll Question</label>\r\n                        <input class=\"form-control\" type=\"text\" value=\"<%= question %>\" name=\"poll_question\" required />\r\n                    </div>\r\n                    <div id=\"choice-list\" class=\"mb-5\">\r\n                        <div class=\"form-group mb-3\">\r\n                            <label class=\"control-label fs-4\" >Choice 1 </label>\r\n                            <input class=\"form-control m-1\" type=\"text\" name=\"choice_text\" value=\"<%= Objects.nonNull(listOfChoiceText) && listOfChoiceText.length>=1  ? listOfChoiceText[0]: \"\"%>\" required  />\r\n                            <input  class=\"form-control m-1\" type=\"text\" placeholder=\"Enter Description\" name=\"description\" value=\"<%= Objects.nonNull(listOfDescription) && listOfDescription.length>=1 ? listOfDescription[0]: \"\" %>\" required />\r\n                        </div>\r\n                        <div class=\"form-group mb-3\">\r\n                            <label class=\"control-label fs-4\"  >Choice 2 </label>\r\n                            <input class=\"form-control m-1\" type=\"text\" placeholder=\"Enter Text\" name=\"choice_text\" value=\"<%= Objects.nonNull(listOfChoiceText) && listOfChoiceText.length>=2 ? listOfChoiceText[1]: \"\" %>\" required >\r\n                            <input class=\"form-control m-1\" type=\"text\" placeholder=\"Enter Description\" name=\"description\" value=\"<%= Objects.nonNull(listOfChoiceText) && listOfDescription.length>=2? listOfChoiceText[1]: \"\" %>\"required >\r\n                        </div>\r\n                        <% if(Objects.nonNull(listOfChoiceText) && listOfChoiceText.length>2){\r\n                            for(int i = 2;i < listOfChoiceText.length; i++){ %>\r\n                        <div class=\"form-group mb-3\">\r\n                            <label class=\"control-label fs-4\"  >Choice <%= i+1 %> </label>\r\n                            <% if(currentPoll == null || currentPoll.getStatus() != PollStatus.RELEASED){ %>\r\n                            <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" value=\"<%= i %>\" onclick=\"removeChoice(event)\"></button>\r\n                            <% } %>\r\n                            <label>\r\n                                <input class=\"form-control m-1\" type=\"text\" placeholder=\"Enter Text\" name=\"choice_text\" value=\"<%= Objects.nonNull(listOfChoiceText) && listOfChoiceText.length>=i ? listOfChoiceText[i]: \"\" %>\" required>\r\n                            </label>\r\n                            <label>\r\n                                <input class=\"form-control m-1\" type=\"text\" placeholder=\"Enter Description\" name=\"description\" value=\"<%= Objects.nonNull(listOfChoiceText) && listOfDescription.length>=i? listOfChoiceText[i]: \"\" %>\" required>\r\n                            </label>\r\n                        </div>\r\n                        <% }\r\n                        } %>\r\n                    </div>\r\n                    <% if(currentPoll == null || currentPoll.getStatus() != PollStatus.RELEASED){ %>\r\n                    <button id=\"add\" class=\"btn btn-primary\"><i class=\"bi bi-plus-square\"></i> Choice</button>\r\n                    <% } %>\r\n                    <br />\r\n                    <br />\r\n\r\n                    <% if(Objects.nonNull(currentPoll) && currentPoll.getStatus() == PollStatus.CREATED) { %>\r\n                    <button class=\"btn btn-warning\" type=\"submit\" name=\"update\" value=\"update\"><span class=\"fs-5\">Update</span></button>\r\n                    <button class=\"btn btn-success\" type=\"submit\"  name=\"run\" value=\"run\"><span class=\"fs-5\">Run</span></button>\r\n                    <button class=\"btn btn-lg btn-danger\" type=\"submit\" name=\"delete\" value=\"delete\"><span class=\"fs-5\">Delete</span></button>\r\n                    <% } else if (Objects.nonNull(currentPoll)  && currentPoll.getStatus() == PollStatus.RUNNING) {%>\r\n                    <button class=\"btn btn-warning\" type=\"submit\" name=\"update\" value=\"update\"><span class=\"fs-5\">Update</span></button>\r\n                    <button class=\"btn btn-lg btn-info\" type=\"submit\" name=\"release\" value=\"release\"><span class=\"fs-5\">Release</span></button>\r\n                    <button class=\"btn btn-lg btn-danger\" type=\"submit\" name = \"clear\" value=\"clear\"><span class=\"fs-5\">Clear</span></button>\r\n                    <% } else if (Objects.nonNull(currentPoll) &&  currentPoll.getStatus() == PollStatus.RELEASED) {%>\r\n                    <button class=\"btn btn-lg btn-warning\" type=\"submit\" name=\"unrelease\" value=\"unrelease\"><span class=\"fs-5\">Unrelease</span></button>\r\n                    <button class=\"btn btn-lg btn-danger\" type=\"submit\" name = \"clear\" value=\"clear\"><span class=\"fs-5\">Clear</span></button>\r\n                    <button class=\"btn btn-lg btn-danger\" type=\"submit\" name=\"close\" value=\"close\"><span class=\"fs-5\">Close</span></button>\r\n                    <% } %>\r\n                </form>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n<%@include file=\"components/footer.jsp\"%>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/PollManagerViewPage.jsp b/target/soen_387_part_2-1.0-SNAPSHOT/PollManagerViewPage.jsp
--- a/target/soen_387_part_2-1.0-SNAPSHOT/PollManagerViewPage.jsp	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/target/soen_387_part_2-1.0-SNAPSHOT/PollManagerViewPage.jsp	(date 1637341928086)
@@ -17,7 +17,7 @@
         <div class="col">
             <div class="d-flex align-items-center justify-content-center">
                 <form class="form-horizontal w-50 border border-3 rounded-3 border-primary p-4" action="PollManagerViewPage.jsp" method="post">
-                    <h1 class="text-center">"Current Poll"</h1>
+                    <h1 class="text-center">Current Poll</h1>
                     <div class="form-group mt-2 mb-3">
                         <label class="control-label fs-3" for="poll_title">Poll Title</label>
                         <input class="form-control" id="poll_title" type="text" value="<%= title %>" name="poll_title" required />
@@ -41,20 +41,17 @@
                             for(int i = 2;i < listOfChoiceText.length; i++){ %>
                         <div class="form-group mb-3">
                             <label class="control-label fs-4"  >Choice <%= i+1 %> </label>
-                            <% if(currentPoll == null || currentPoll.getStatus() != PollStatus.RELEASED){ %>
+                            <% System.out.println(currentPoll == null);
+                                if(currentPoll == null || currentPoll.getStatus() != PollStatus.RELEASED && currentPoll.getStatus() != PollStatus.CLOSED){ %>
                             <button type="button" class="btn-close" aria-label="Close" value="<%= i %>" onclick="removeChoice(event)"></button>
                             <% } %>
-                            <label>
-                                <input class="form-control m-1" type="text" placeholder="Enter Text" name="choice_text" value="<%= Objects.nonNull(listOfChoiceText) && listOfChoiceText.length>=i ? listOfChoiceText[i]: "" %>" required>
-                            </label>
-                            <label>
-                                <input class="form-control m-1" type="text" placeholder="Enter Description" name="description" value="<%= Objects.nonNull(listOfChoiceText) && listOfDescription.length>=i? listOfChoiceText[i]: "" %>" required>
-                            </label>
+                            <input class="form-control m-1" type="text" placeholder="Enter Text" name="choice_text" value="<%= Objects.nonNull(listOfChoiceText) && listOfChoiceText.length>=i ? listOfChoiceText[i]: "" %>" required>
+                            <input class="form-control m-1" type="text" placeholder="Enter Description" name="description" value="<%= Objects.nonNull(listOfChoiceText) && listOfDescription.length>=i? listOfChoiceText[i]: "" %>" required>
                         </div>
                         <% }
                         } %>
                     </div>
-                    <% if(currentPoll == null || currentPoll.getStatus() != PollStatus.RELEASED){ %>
+                    <% if(currentPoll == null || currentPoll.getStatus() != PollStatus.RELEASED && currentPoll.getStatus() != PollStatus.CLOSED){ %>
                     <button id="add" class="btn btn-primary"><i class="bi bi-plus-square"></i> Choice</button>
                     <% } %>
                     <br />
Index: target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%--\r\n<%@ page errorPage=\"errorPage.jsp\" %>\r\n--%>\r\n<%@ page import=\"com.pollmanager.*\" %>\r\n<%@ page import=\"java.util.*\" %>\r\n<%@ page import=\"com.generator.VoterPin\" %>\r\n\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n\r\n<%\r\n    session.removeAttribute(\"poll\");\r\n    session.removeAttribute(\"voterPin\");\r\n    session.removeAttribute(\"voted\");\r\n    session.removeAttribute(\"message\");\r\n    if(\"POST\".equalsIgnoreCase(request.getMethod()) && request.getParameter(\"access\")!= null){\r\n        Poll poll = null;\r\n        String pollID = request.getParameter(\"pollID\").toUpperCase().trim();\r\n        String pinEntered  = request.getParameter(\"voterPin\");\r\n        PollManager pollManager = new PollManager();\r\n        try {\r\n            poll = pollManager.accessPoll(pollID);\r\n            if (poll.getStatus().equals(PollStatus.RELEASED)) {\r\n                request.getSession().setAttribute(\"errorMessage\", \"The poll has been RELEASED. Cannot vote on it anymore.\");\r\n                response.sendRedirect(\"AccessVotePage.jsp\");\r\n                return;\r\n            } else if (poll.getStatus().equals(PollStatus.CLOSED)) {\r\n                request.getSession().setAttribute(\"errorMessage\", \"The poll has been CLOSED. Cannot vote on it anymore.\");\r\n                response.sendRedirect(\"AccessVotePage.jsp\");\r\n                return;\r\n            }\r\n        } catch (PollManagerException e) {\r\n            request.getSession().setAttribute(\"errorMessage\", \"Entered POLL ID does not exist in the system\");\r\n            response.sendRedirect(\"AccessVotePage.jsp\");\r\n            return;\r\n        }\r\n        System.out.println(pinEntered);\r\n        if(Objects.isNull(pinEntered)|| pinEntered.isEmpty()){\r\n            session.setAttribute(\"voterPin\", VoterPin.generatePin(pollID));\r\n        }else if(VoterPin.pinExists(pollID,Integer.parseInt(pinEntered.trim()))){\r\n            session.setAttribute(\"voterPin\", Integer.parseInt(pinEntered.trim()));\r\n        } else{\r\n            request.getSession().setAttribute(\"errorMessage\", \"Entered PIN does not exist in the system\");\r\n            response.sendRedirect(\"AccessVotePage.jsp\");\r\n            return;\r\n\r\n        }\r\n        request.getSession().setAttribute(\"poll\", poll);\r\n        RequestDispatcher requestDispatcher = request.getRequestDispatcher(\"VotingPage.jsp\");\r\n        requestDispatcher.forward(request, response);\r\n    }\r\n\r\n%>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp b/target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp
--- a/target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp	(date 1637341928082)
@@ -19,12 +19,13 @@
         PollManager pollManager = new PollManager();
         try {
             poll = pollManager.accessPoll(pollID);
-            if (poll.getStatus().equals(PollStatus.RELEASED)) {
-                request.getSession().setAttribute("errorMessage", "The poll has been RELEASED. Cannot vote on it anymore.");
+
+            if (poll.getStatus().equals(PollStatus.CLOSED)) {
+                request.getSession().setAttribute("errorMessage", "The poll has been CLOSED. Cannot vote on it anymore.");
                 response.sendRedirect("AccessVotePage.jsp");
                 return;
-            } else if (poll.getStatus().equals(PollStatus.CLOSED)) {
-                request.getSession().setAttribute("errorMessage", "The poll has been CLOSED. Cannot vote on it anymore.");
+            }else if(poll.getStatus().equals(PollStatus.CREATED)){
+                request.getSession().setAttribute("errorMessage", "The poll has been CREATED. Cannot vote currently.");
                 response.sendRedirect("AccessVotePage.jsp");
                 return;
             }
Index: target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ include file=\"AccessServicePage.jsp\"%>\r\n<%@ include file=\"components/header.jsp\"%>\r\n<%\r\n    String errorMessage = (String) request.getSession().getAttribute(\"errorMessage\");\r\n    request.getSession().removeAttribute(\"errorMessage\");\r\n%>\r\n<div class=\"container\">\r\n    <div class=\"d-flex align-items-center justify-content-center\">\r\n        <form class=\"form-horizontal w-50 border border-3 rounded-3 border-primary p-4\" action=\"AccessServicePage.jsp\" method=\"post\">\r\n            <% if (errorMessage != null) { %>\r\n            <div class=\"alert alert-danger\" role=\"alert\">\r\n                <ul>\r\n                    <li><%= errorMessage%></li>\r\n                </ul>\r\n            </div>\r\n            <% } %>\r\n            <div class=\"form-group mt-2 mb-3\">\r\n                <label class=\"control-label fs-3\" for=\"pollID\">Poll ID</label>\r\n                <input class=\"form-control\" id=\"pollID\" type=\"text\" placeholder=\"Enter Poll ID\" name=\"pollID\" required />\r\n            </div>\r\n            <div class=\"form-group mt-2 mb-3\">\r\n                <label class=\"control-label fs-3\" for=\"voterPin\">Pin # (Optional)</label>\r\n                <input class=\"form-control\" id=\"voterPin\" type=\"text\" placeholder=\"Enter your pin number\" name=\"voterPin\" />\r\n            </div>\r\n            <div class=\"d-grid gap-2 col-6 mx-auto\">\r\n                <button class=\"btn btn-primary\" type=\"submit\" name=\"access\" value=\"access\"><span class=\"fs-3\">Access Poll</span></button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <%@include file=\"components/footer.jsp\"%>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp b/target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp
--- a/target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp	(date 1637341928084)
@@ -21,7 +21,7 @@
             </div>
             <div class="form-group mt-2 mb-3">
                 <label class="control-label fs-3" for="voterPin">Pin # (Optional)</label>
-                <input class="form-control" id="voterPin" type="text" placeholder="Enter your pin number" name="voterPin" />
+                <input class="form-control" id="voterPin" type="number" placeholder="Enter your pin number" name="voterPin" />
             </div>
             <div class="d-grid gap-2 col-6 mx-auto">
                 <button class="btn btn-primary" type="submit" name="access" value="access"><span class="fs-3">Access Poll</span></button>
Index: soen_387_part_2.iml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<module org.jetbrains.idea.maven.project.MavenProjectsManager.isMavenModule=\"true\" type=\"JAVA_MODULE\" version=\"4\">\r\n  <component name=\"FacetManager\">\r\n    <facet type=\"web\" name=\"Web\">\r\n      <configuration>\r\n        <descriptors>\r\n          <deploymentDescriptor name=\"web.xml\" url=\"file://$MODULE_DIR$/src/main/webapp/WEB-INF/web.xml\" />\r\n        </descriptors>\r\n        <webroots>\r\n          <root url=\"file://$MODULE_DIR$/src/main/webapp\" relative=\"/\" />\r\n        </webroots>\r\n        <sourceRoots>\r\n          <root url=\"file://$MODULE_DIR$/src/main/java\" />\r\n          <root url=\"file://$MODULE_DIR$/src/main/resources\" />\r\n          <root url=\"file://$MODULE_DIR$/src/main/webapp/WEB-INF/jsonfile\" />\r\n        </sourceRoots>\r\n      </configuration>\r\n    </facet>\r\n  </component>\r\n  <component name=\"NewModuleRootManager\" LANGUAGE_LEVEL=\"JDK_1_8\">\r\n    <output url=\"file://$MODULE_DIR$/target/classes\" />\r\n    <output-test url=\"file://$MODULE_DIR$/target/test-classes\" />\r\n    <content url=\"file://$MODULE_DIR$\">\r\n      <sourceFolder url=\"file://$MODULE_DIR$/src/main/java\" isTestSource=\"false\" />\r\n      <sourceFolder url=\"file://$MODULE_DIR$/src/main/resources\" type=\"java-resource\" />\r\n      <sourceFolder url=\"file://$MODULE_DIR$/src/test/java\" isTestSource=\"true\" />\r\n      <sourceFolder url=\"file://$MODULE_DIR$/src/test/resources\" type=\"java-test-resource\" />\r\n      <sourceFolder url=\"file://$MODULE_DIR$/src/main/webapp/WEB-INF/jsonfile\" isTestSource=\"false\" />\r\n      <excludeFolder url=\"file://$MODULE_DIR$/target\" />\r\n    </content>\r\n    <orderEntry type=\"inheritedJdk\" />\r\n    <orderEntry type=\"sourceFolder\" forTests=\"false\" />\r\n    <orderEntry type=\"library\" name=\"javax.servlet-api-4.0.1\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"jsp-api-2.1-6.0.2\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"jstl-1.2\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"mysql-connector-java-8.0.26\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"protobuf-java-3.11.4\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2 (2)\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2 (3)\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2 (4)\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2 (5)\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2 (6)\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2 (7)\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2 (8)\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"business_layer_part2 (9)\" level=\"application\" />\r\n    <orderEntry type=\"library\" name=\"Java EE 6-Java EE 6\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: javax.xml.bind:jaxb-api:2.3.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: com.sun.xml.bind:jaxb-core:2.3.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"RUNTIME\" name=\"Maven: com.sun.xml.bind:jaxb-impl:3.0.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: jakarta.xml.bind:jakarta.xml.bind-api:3.0.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: com.sun.activation:jakarta.activation:2.0.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: org.eclipse.persistence:org.eclipse.persistence.moxy:3.0.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: org.eclipse.persistence:org.eclipse.persistence.asm:3.0.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: org.eclipse.persistence:org.eclipse.persistence.core:3.0.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"RUNTIME\" name=\"Maven: com.sun.mail:jakarta.mail:2.0.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: mysql:mysql-connector-java:8.0.27\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: com.google.protobuf:protobuf-java:3.11.4\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"PROVIDED\" name=\"Maven: javax.json.bind:javax.json.bind-api:1.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"PROVIDED\" name=\"Maven: javax.json:javax.json-api:1.1.4\" level=\"project\" />\r\n    <orderEntry type=\"library\" name=\"Maven: javax.mvc:javax.mvc-api:1.0.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"PROVIDED\" name=\"Maven: javax.servlet:javax.servlet-api:4.0.1\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"TEST\" name=\"Maven: org.junit.jupiter:junit-jupiter-api:5.7.1\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"TEST\" name=\"Maven: org.apiguardian:apiguardian-api:1.1.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"TEST\" name=\"Maven: org.opentest4j:opentest4j:1.2.0\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"TEST\" name=\"Maven: org.junit.platform:junit-platform-commons:1.7.1\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"TEST\" name=\"Maven: org.junit.jupiter:junit-jupiter-engine:5.7.1\" level=\"project\" />\r\n    <orderEntry type=\"library\" scope=\"TEST\" name=\"Maven: org.junit.platform:junit-platform-engine:1.7.1\" level=\"project\" />\r\n  </component>\r\n</module>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/soen_387_part_2.iml b/soen_387_part_2.iml
--- a/soen_387_part_2.iml	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/soen_387_part_2.iml	(date 1637350583967)
@@ -35,14 +35,6 @@
     <orderEntry type="library" name="jstl-1.2" level="project" />
     <orderEntry type="library" name="mysql-connector-java-8.0.26" level="project" />
     <orderEntry type="library" name="protobuf-java-3.11.4" level="project" />
-    <orderEntry type="library" name="business_layer_part2" level="project" />
-    <orderEntry type="library" name="business_layer_part2 (2)" level="project" />
-    <orderEntry type="library" name="business_layer_part2 (3)" level="project" />
-    <orderEntry type="library" name="business_layer_part2 (4)" level="project" />
-    <orderEntry type="library" name="business_layer_part2 (5)" level="project" />
-    <orderEntry type="library" name="business_layer_part2 (6)" level="project" />
-    <orderEntry type="library" name="business_layer_part2 (7)" level="project" />
-    <orderEntry type="library" name="business_layer_part2 (8)" level="project" />
     <orderEntry type="library" name="business_layer_part2 (9)" level="application" />
     <orderEntry type="library" name="Java EE 6-Java EE 6" level="project" />
     <orderEntry type="library" name="Maven: javax.xml.bind:jaxb-api:2.3.0" level="project" />
@@ -66,5 +58,7 @@
     <orderEntry type="library" scope="TEST" name="Maven: org.junit.platform:junit-platform-commons:1.7.1" level="project" />
     <orderEntry type="library" scope="TEST" name="Maven: org.junit.jupiter:junit-jupiter-engine:5.7.1" level="project" />
     <orderEntry type="library" scope="TEST" name="Maven: org.junit.platform:junit-platform-engine:1.7.1" level="project" />
+    <orderEntry type="library" name="business_layer_part2" level="project" />
+    <orderEntry type="library" name="gson-2.8.2" level="project" />
   </component>
 </module>
\ No newline at end of file
Index: .idea/libraries/gson_2_8_2.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/libraries/gson_2_8_2.xml b/.idea/libraries/gson_2_8_2.xml
new file mode 100644
--- /dev/null	(date 1637350584055)
+++ b/.idea/libraries/gson_2_8_2.xml	(date 1637350584055)
@@ -0,0 +1,9 @@
+<component name="libraryTable">
+  <library name="gson-2.8.2">
+    <CLASSES>
+      <root url="jar://$PROJECT_DIR$/src/main/webapp/WEB-INF/lib/gson-2.8.2.jar!/" />
+    </CLASSES>
+    <JAVADOC />
+    <SOURCES />
+  </library>
+</component>
\ No newline at end of file
Index: .idea/libraries/business_layer_part2.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/libraries/business_layer_part2.xml b/.idea/libraries/business_layer_part2.xml
new file mode 100644
--- /dev/null	(date 1637350584017)
+++ b/.idea/libraries/business_layer_part2.xml	(date 1637350584017)
@@ -0,0 +1,9 @@
+<component name="libraryTable">
+  <library name="business_layer_part2">
+    <CLASSES>
+      <root url="jar://$PROJECT_DIR$/src/main/webapp/WEB-INF/lib/business_layer_part2.jar!/" />
+    </CLASSES>
+    <JAVADOC />
+    <SOURCES />
+  </library>
+</component>
\ No newline at end of file
Index: src/main/java/com/example/soen_387_part_2/PollServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.soen_387_part_2;\r\n\r\nimport com.pollmanager.Poll;\r\nimport com.pollmanager.PollManager;\r\nimport com.pollmanager.PollManagerException;\r\nimport com.pollmanager.PollStatus;\r\n\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.Objects;\r\n\r\n@WebServlet(name = \"PollServlet\", value = \"/PollServlet\")\r\npublic class PollServlet extends HttpServlet {\r\n    private String message;\r\n\r\n    public void init() {\r\n        message = \"\";\r\n    }\r\n\r\n    @Override\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException, ServletException {\r\n\r\n        PollManager pollManager = new PollManager();\r\n        Poll poll = (Poll) request.getSession().getAttribute(\"poll\");\r\n        String format = request.getParameter(\"dataFormat\");\r\n\r\n        StringBuilder filename = null;\r\n        String pollID = \"\";\r\n        PrintWriter printWriter = null;\r\n        filename = new StringBuilder();\r\n        pollID = poll.getPollID();\r\n        if (format.equals(\"txt\")) {\r\n            printWriter = response.getWriter();\r\n            try {\r\n                pollManager.downloadPollDetails(printWriter, filename, pollID, \"txt\");\r\n            } catch (PollManagerException e) {\r\n                response.sendError(500, e.getMessage());\r\n                return;\r\n            }\r\n        } else if (format.equals(\"xml\")) {\r\n            printWriter = response.getWriter();\r\n            try {\r\n                pollManager.downloadPollDetails(printWriter, filename, pollID, \"xml\");\r\n            } catch (PollManagerException e) {\r\n                response.sendError(500, e.getMessage());\r\n                return;\r\n            }\r\n        } else if (format.equals(\"json\")) {\r\n            printWriter = response.getWriter();\r\n            try {\r\n                pollManager.downloadPollDetails(printWriter, filename, pollID, \"json\");\r\n            } catch (PollManagerException e) {\r\n                response.sendError(500, e.getMessage());\r\n                return;\r\n            }\r\n        }\r\n\r\n        String name = Objects.requireNonNull(filename).substring(0, poll.getTitle().length());\r\n        if (name.compareTo(poll.getTitle()) == 0) {\r\n            if (filename.toString().endsWith(\".txt\")) {\r\n                String headerKey = \"Content-Disposition\";\r\n                String headerValue = String.format(\"attachment; filename=\\\"%s\\\"\", filename.toString());\r\n                response.setContentType(\"application/octet-stream\");\r\n                response.setHeader(headerKey, headerValue);\r\n                response.setHeader(\"Cache-Control\", \"no-cache, no-store, must-revalidate\"); // HTTP 1.1\r\n                response.setHeader(\"Pragma\", \"no-cache\"); // HTTP 1.0\r\n                response.setDateHeader(\"Expires\", 0); // Proxies.\r\n\r\n                Objects.requireNonNull(printWriter).close();\r\n\r\n                String destination = \"/VotingPage.jsp\";\r\n                RequestDispatcher dispatcher = request.getRequestDispatcher(destination);\r\n                dispatcher.forward(request, response);\r\n\r\n            } else if (filename.toString().endsWith(\".xml\")) {\r\n                String headerKey = \"Content-Disposition\";\r\n                String headerValue = String.format(\"attachment; filename=\\\"%s\\\"\", filename.toString());\r\n                response.setContentType(\"application/octet-stream\");\r\n                response.setHeader(headerKey, headerValue);\r\n                response.setHeader(\"Cache-Control\", \"no-cache, no-store, must-revalidate\"); // HTTP 1.1\r\n                response.setHeader(\"Pragma\", \"no-cache\"); // HTTP 1.0\r\n                response.setDateHeader(\"Expires\", 0); // Proxies.\r\n\r\n                Objects.requireNonNull(printWriter).close();\r\n\r\n                String destination = \"/VotingPage.jsp\";\r\n                RequestDispatcher dispatcher = request.getRequestDispatcher(destination);\r\n                dispatcher.forward(request, response);\r\n\r\n            } else if (filename.toString().endsWith(\".json\")) {\r\n                String headerKey = \"Content-Disposition\";\r\n                String headerValue = String.format(\"attachment; filename=\\\"%s\\\"\", filename.toString());\r\n                response.setContentType(\"application/octet-stream\");\r\n                response.setHeader(headerKey, headerValue);\r\n                response.setHeader(\"Cache-Control\", \"no-cache, no-store, must-revalidate\"); // HTTP 1.1\r\n                response.setHeader(\"Pragma\", \"no-cache\"); // HTTP 1.0\r\n                response.setDateHeader(\"Expires\", 0); // Proxies.\r\n\r\n                Objects.requireNonNull(printWriter).close();\r\n\r\n                String destination = \"/VotingPage.jsp\";\r\n                RequestDispatcher dispatcher = request.getRequestDispatcher(destination);\r\n                dispatcher.forward(request, response);\r\n            }\r\n        } else {\r\n            printWriter = null;\r\n            response.sendError(500, \"The filename does not match the title or the format string is not .txt\");\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        PollManager pollManager = new PollManager();\r\n        if(Objects.isNull(request.getParameter(\"pollID\")) ||request.getParameter(\"pollID\").isEmpty()){\r\n            response.sendError(500, \"Missing Poll ID\");\r\n            return;\r\n        }\r\n        if(Objects.isNull(request.getParameter(\"choice\")) || request.getParameter(\"choice\").isEmpty()){\r\n            response.sendError(500, \"Please select a choice before submitting.\");\r\n            return;\r\n        }\r\n        if(Objects.isNull(request.getParameter(\"voterPin\")) || request.getParameter(\"voterPin\").isEmpty()){\r\n            response.sendError(500, \"Missing Pin Number\");\r\n            return;\r\n        }\r\n        String pollID = (String) request.getParameter(\"pollID\");\r\n        int voterPin = Integer.parseInt(request.getParameter(\"voterPin\"));\r\n        int choiceID = Integer.parseInt(request.getParameter(\"choice\"));\r\n        Poll poll = null;\r\n        try {\r\n            poll = pollManager.accessPoll(pollID);\r\n        } catch (PollManagerException e) {\r\n            response.sendError(500, e.getMessage());\r\n            return;\r\n        }\r\n\r\n        if (!poll.isValidChoice(choiceID)) {\r\n            response.sendError(500, \"The selected choice is not valid\");\r\n        }\r\n        else if (poll.getStatus().compareTo(PollStatus.RUNNING) != 0){\r\n            response.sendError(500, \"The poll is currently not running.\");\r\n        }\r\n        else {\r\n            try {\r\n                pollManager.vote(pollID,voterPin, choiceID);\r\n                message = \"Vote has been successfully saved.\";\r\n            } catch (PollManagerException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            request.getSession().setAttribute(\"voted\", \"voted\");\r\n            request.getSession().setAttribute(\"message\", message);\r\n            request.getSession().setAttribute(\"voterPin\", voterPin);\r\n            request.getSession().setAttribute(\"poll\", poll);\r\n\r\n            String destination = \"/VotingPage.jsp\";\r\n            RequestDispatcher dispatcher = request.getRequestDispatcher(destination);\r\n            dispatcher.forward(request, response);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/example/soen_387_part_2/PollServlet.java b/src/main/java/com/example/soen_387_part_2/PollServlet.java
--- a/src/main/java/com/example/soen_387_part_2/PollServlet.java	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/src/main/java/com/example/soen_387_part_2/PollServlet.java	(date 1637348083262)
@@ -45,8 +45,10 @@
             }
         } else if (format.equals("xml")) {
             printWriter = response.getWriter();
+
             try {
                 pollManager.downloadPollDetails(printWriter, filename, pollID, "xml");
+                System.out.println(filename);
             } catch (PollManagerException e) {
                 response.sendError(500, e.getMessage());
                 return;
@@ -79,14 +81,16 @@
                 dispatcher.forward(request, response);
 
             } else if (filename.toString().endsWith(".xml")) {
+                String filenameS = "myPoll123";
                 String headerKey = "Content-Disposition";
-                String headerValue = String.format("attachment; filename=\"%s\"", filename.toString());
+                String headerValue = String.format("attachment; filename=\"%s\"", filenameS.toString());
                 response.setContentType("application/octet-stream");
                 response.setHeader(headerKey, headerValue);
                 response.setHeader("Cache-Control", "no-cache, no-store, must-revalidate"); // HTTP 1.1
                 response.setHeader("Pragma", "no-cache"); // HTTP 1.0
                 response.setDateHeader("Expires", 0); // Proxies.
 
+
                 Objects.requireNonNull(printWriter).close();
 
                 String destination = "/VotingPage.jsp";
Index: target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/users.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>[\r\n\t{\r\n\t\t\"id\": \"111111\",\r\n\t\t\"fullName\": \"fullName1\",\r\n\t\t\"email\": \"user1@email.com\",\r\n\t\t\"hashedPassword\": \"5f4dcc3b5aa765d61d8327deb882cf99\"\r\n\t},\r\n\t{\r\n\t\t\"id\": \"222222\",\r\n\t\t\"fullName\": \"fullName2\",\r\n\t\t\"email\": \"user2@email.com\",\r\n\t\t\"hashedPassword\": \"5f4dcc3b5aa765d61d8327deb882cf99\"\r\n\t}\r\n]\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/users.json b/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/users.json
--- a/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/users.json	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/users.json	(date 1637262405736)
@@ -1,12 +1,12 @@
 [
 	{
-		"id": "111111",
+		"id": "user1",
 		"fullName": "fullName1",
 		"email": "user1@email.com",
 		"hashedPassword": "5f4dcc3b5aa765d61d8327deb882cf99"
 	},
 	{
-		"id": "222222",
+		"id": "user2",
 		"fullName": "fullName2",
 		"email": "user2@email.com",
 		"hashedPassword": "5f4dcc3b5aa765d61d8327deb882cf99"
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ArtifactsWorkspaceSettings\">\r\n    <artifacts-to-build>\r\n      <artifact name=\"soen_387_part_2:war exploded\" />\r\n    </artifacts-to-build>\r\n  </component>\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"901ae218-199b-4c5c-9a2e-73d1fadd9815\" name=\"Changes\" comment=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed&#10;-- no userID the pollmanager is redirected to login page&#10;-- xml download\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/libraries/business_layer_part2.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/libraries/business_layer_part2.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM_[Changes]/shelved.patch\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM__Changes_.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/Main.class\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/shelved.patch\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM__Changes_.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_16_2021_10_01_PM__Changes_.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_16_2021_10_01_PM__Changes_.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_16_2021_10_27_PM__Changes_.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_16_2021_10_27_PM__Changes_.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_16_2021_9_59_PM__Changes_.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_16_2021_9_59_PM__Changes_.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_16_2021_9_59_PM__Changes_1.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_16_2021_9_59_PM__Changes_1.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2021_12_17_AM__Changes_.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_17_2021_12_17_AM__Changes_.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/soen_387_part_2.iml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/soen_387_part_2.iml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/com/example/soen_387_part_2/PollServlet.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/java/com/example/soen_387_part_2/PollServlet.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/webapp/VotingPage.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/webapp/VotingPage.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/example/soen_387_part_2/LoginServlet.class\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/example/soen_387_part_2/PollServlet.class\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/json/JsonReader.class\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/com/json/User.class\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/PollManagerViewPage.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/PollManagerViewPage.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/VotingPage.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/VotingPage.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/com/example/soen_387_part_2/LoginServlet.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/com/example/soen_387_part_2/LoginServlet.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/com/example/soen_387_part_2/PollServlet.class\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/com/example/soen_387_part_2/PollServlet.class\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/users.json\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/classes/users.json\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"CodeInsightWorkspaceSettings\">\r\n    <option name=\"optimizeImportsOnTheFly\" value=\"true\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Jsp File\" />\r\n        <option value=\"package.json\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"main\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitSEFilterConfiguration\">\r\n    <file-type-list>\r\n      <filtered-out-file-type name=\"LOCAL_BRANCH\" />\r\n      <filtered-out-file-type name=\"REMOTE_BRANCH\" />\r\n      <filtered-out-file-type name=\"TAG\" />\r\n      <filtered-out-file-type name=\"COMMIT_BY_MESSAGE\" />\r\n    </file-type-list>\r\n  </component>\r\n  <component name=\"JpbToolWindowState\">\r\n    <option name=\"myId2FirstActivated\">\r\n      <map>\r\n        <entry key=\"JPA Palette\" value=\"true\" />\r\n        <entry key=\"JPA Structure\" value=\"true\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"myId2Visible\">\r\n      <map>\r\n        <entry key=\"JPA Palette\" value=\"true\" />\r\n        <entry key=\"JPA Structure\" value=\"false\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"JspContextManager\">\r\n    <jsp-to-context jsp-file=\"file://$PROJECT_DIR$/src/main/webapp/PMServicePage.jsp\" context-file=\"file://$PROJECT_DIR$/src/main/webapp/PollManagerPage.jsp\" />\r\n    <jsp-to-context jsp-file=\"file://$PROJECT_DIR$/src/main/webapp/components/header.jsp\" context-file=\"file://$PROJECT_DIR$/src/main/webapp/VotingPage.jsp\" />\r\n  </component>\r\n  <component name=\"LogFilters\">\r\n    <option name=\"FILTER_ERRORS\" value=\"false\" />\r\n    <option name=\"FILTER_WARNINGS\" value=\"false\" />\r\n    <option name=\"FILTER_INFO\" value=\"true\" />\r\n    <option name=\"FILTER_DEBUG\" value=\"true\" />\r\n    <option name=\"CUSTOM_FILTER\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"20SWuH0w9bxnfXgQudOi5ddcJYM\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"ASKED_ADD_EXTERNAL_FILES\" value=\"true\" />\r\n    <property name=\"DatabaseDriversLRU\" value=\"mariadb&#10;mysql\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"add_unversioned_files\" value=\"$PROJECT_DIR$/target/classes/com/json/JsonReader.class\" />\r\n    <property name=\"last_opened_file_path\" value=\"$USER_HOME$/Desktop/backup/business_layer_part2.jar\" />\r\n    <property name=\"nodejs_package_manager_path\" value=\"npm\" />\r\n    <property name=\"project.structure.last.edited\" value=\"Libraries\" />\r\n    <property name=\"project.structure.proportion\" value=\"0.15429688\" />\r\n    <property name=\"project.structure.side.proportion\" value=\"0.3459001\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"reference.projectsettings.compiler.javacompiler\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\tigerrrr\\IdeaProjects\\soen_387_part_2\\src\\main\\webapp\\WEB-INF\\lib\" />\r\n      <recent name=\"C:\\Users\\tigerrrr\\IdeaProjects\\soen_387_part_2\\src\\main\\webapp\" />\r\n      <recent name=\"C:\\Users\\tigerrrr\\IdeaProjects\\soen_387_part_2\\src\\main\\resources\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\tigerrrr\\IdeaProjects\\soen_387_part_2\\src\\main\\resources\" />\r\n      <recent name=\"C:\\Users\\tigerrrr\\IdeaProjects\\soen_387_part_2\\src\\main\\resources\\jsonfiles\" />\r\n      <recent name=\"C:\\Users\\tigerrrr\\IdeaProjects\\soen_387_part_2\\src\\main\\webapp\\WEB-INF\\jsonfile\" />\r\n      <recent name=\"C:\\Users\\tigerrrr\\IdeaProjects\\soen_387_part_2\\src\" />\r\n      <recent name=\"C:\\Users\\tigerrrr\\IdeaProjects\\soen_387_part_2\\resources\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"com.example.soen_387_part_2\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"Tomcat Server.Tomcat 9.0.53\">\r\n    <configuration name=\"Main\" type=\"Application\" factoryName=\"Application\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"com.main.Main\" />\r\n      <module name=\"soen_387_part_2\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"com.main.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"Tomcat 9.0.53\" type=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\" factoryName=\"Local\" APPLICATION_SERVER_NAME=\"Tomcat 9.0.53\" ALTERNATIVE_JRE_ENABLED=\"false\">\r\n      <deployment>\r\n        <artifact name=\"soen_387_part_2:war exploded\">\r\n          <settings>\r\n            <option name=\"CONTEXT_PATH\" value=\"/soen_387_part_2_war_exploded\" />\r\n          </settings>\r\n        </artifact>\r\n      </deployment>\r\n      <server-settings>\r\n        <option name=\"BASE_DIRECTORY_NAME\" value=\"40641dca-ba91-4329-94af-d18f907a0bfd\" />\r\n      </server-settings>\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat\" />\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat Catalina\" />\r\n      <predefined_log_file id=\"Tomcat Manager\" />\r\n      <predefined_log_file id=\"Tomcat Host Manager\" />\r\n      <predefined_log_file id=\"Tomcat Localhost Access\" />\r\n      <RunnerSettings RunnerId=\"Debug\">\r\n        <option name=\"DEBUG_PORT\" value=\"55729\" />\r\n      </RunnerSettings>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Cover\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Debug\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Profile\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Run\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n        <option name=\"BuildArtifacts\" enabled=\"true\">\r\n          <artifact name=\"soen_387_part_2:war exploded\" />\r\n        </option>\r\n      </method>\r\n    </configuration>\r\n    <list>\r\n      <item itemvalue=\"Application.Main\" />\r\n      <item itemvalue=\"Tomcat Server.Tomcat 9.0.53\" />\r\n    </list>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Application.Main\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"901ae218-199b-4c5c-9a2e-73d1fadd9815\" name=\"Changes\" comment=\"\" />\r\n      <created>1636038693361</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1636038693361</updated>\r\n      <workItem from=\"1636038695008\" duration=\"12569000\" />\r\n      <workItem from=\"1636120161074\" duration=\"24287000\" />\r\n      <workItem from=\"1636188620643\" duration=\"2723000\" />\r\n      <workItem from=\"1636395110036\" duration=\"2559000\" />\r\n      <workItem from=\"1636434230074\" duration=\"2573000\" />\r\n      <workItem from=\"1636440318042\" duration=\"1960000\" />\r\n      <workItem from=\"1636485670087\" duration=\"4138000\" />\r\n      <workItem from=\"1636548297225\" duration=\"722000\" />\r\n      <workItem from=\"1636549111527\" duration=\"203000\" />\r\n      <workItem from=\"1636569726445\" duration=\"3023000\" />\r\n      <workItem from=\"1636578761696\" duration=\"7613000\" />\r\n      <workItem from=\"1636591806817\" duration=\"1820000\" />\r\n      <workItem from=\"1636642496605\" duration=\"1032000\" />\r\n      <workItem from=\"1636657859129\" duration=\"1810000\" />\r\n      <workItem from=\"1636696698051\" duration=\"6727000\" />\r\n      <workItem from=\"1636726648895\" duration=\"1983000\" />\r\n      <workItem from=\"1636782780436\" duration=\"9544000\" />\r\n      <workItem from=\"1636831314089\" duration=\"23618000\" />\r\n      <workItem from=\"1636931111362\" duration=\"24866000\" />\r\n      <workItem from=\"1637021323856\" duration=\"5074000\" />\r\n      <workItem from=\"1637029956792\" duration=\"164000\" />\r\n      <workItem from=\"1637030193976\" duration=\"752000\" />\r\n      <workItem from=\"1637031062384\" duration=\"403000\" />\r\n      <workItem from=\"1637031500429\" duration=\"17827000\" />\r\n      <workItem from=\"1637110037545\" duration=\"13137000\" />\r\n      <workItem from=\"1637211394057\" duration=\"226000\" />\r\n      <workItem from=\"1637247093405\" duration=\"332000\" />\r\n      <workItem from=\"1637256750733\" duration=\"5308000\" />\r\n      <workItem from=\"1637264039385\" duration=\"1123000\" />\r\n      <workItem from=\"1637341840174\" duration=\"8116000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library\">\r\n      <created>1636641362135</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636641362135</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library\">\r\n      <created>1636641866306</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636641866306</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1\">\r\n      <created>1636643350695</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636643350695</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1\">\r\n      <created>1636703167878</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636703167878</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1\">\r\n      <created>1636703327386</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636703327387</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working\">\r\n      <created>1636785936192</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636785936192</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet\">\r\n      <created>1636787682504</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636787682504</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link\">\r\n      <created>1636788181642</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636788181642</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working\">\r\n      <created>1636974195415</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1636974195415</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality\">\r\n      <created>1637008850283</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637008850283</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json\">\r\n      <created>1637083038610</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637083038610</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json\">\r\n      <created>1637110847855</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637110847855</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json\">\r\n      <created>1637118759519</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637118759519</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working\">\r\n      <created>1637127544030</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637127544030</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working\">\r\n      <created>1637211604670</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637211604670</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working\">\r\n      <created>1637247290070</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637247290070</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors\">\r\n      <created>1637262494150</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637262494150</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed&#10;-- no userID the pollmanager is redirected to login page\">\r\n      <created>1637265151920</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637265151920</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed&#10;-- no userID the pollmanager is redirected to login page&#10;-- xml download\">\r\n      <created>1637349585286</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1637349585287</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"20\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"oldMeFiltersMigrated\" value=\"true\" />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <option name=\"ADD_EXTERNAL_FILES_SILENTLY\" value=\"true\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed&#10;-- no userID the pollmanager is redirected to login page\" />\r\n    <MESSAGE value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed&#10;-- no userID the pollmanager is redirected to login page&#10;-- xml download\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed&#10;-- no userID the pollmanager is redirected to login page&#10;-- xml download\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <breakpoint enabled=\"true\" type=\"java-exception\">\r\n          <properties class=\"java.sql.SQLException\" package=\"java.sql\" />\r\n          <option name=\"timeStamp\" value=\"2\" />\r\n        </breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n  <component name=\"XSLT-Support.FileAssociations.UIState\">\r\n    <expand />\r\n    <select />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/.idea/workspace.xml	(date 1637351483468)
@@ -10,7 +10,8 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="901ae218-199b-4c5c-9a2e-73d1fadd9815" name="Changes" comment="---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed&#10;-- no userID the pollmanager is redirected to login page&#10;-- xml download">
-      <change beforePath="$PROJECT_DIR$/.idea/libraries/business_layer_part2.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/libraries/business_layer_part2.xml" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/.idea/libraries/business_layer_part2.xml" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/.idea/libraries/gson_2_8_2.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM_[Changes]/shelved.patch" beforeDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_11_2021_2_38_PM__Changes_.xml" beforeDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_11_12_2021_12_59_AM_[Changes]/Main.class" beforeDir="false" />
@@ -24,11 +25,8 @@
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/soen_387_part_2.iml" beforeDir="false" afterPath="$PROJECT_DIR$/soen_387_part_2.iml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/java/com/example/soen_387_part_2/PollServlet.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/example/soen_387_part_2/PollServlet.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/webapp/VotingPage.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/webapp/VotingPage.jsp" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/example/soen_387_part_2/LoginServlet.class" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/example/soen_387_part_2/PollServlet.class" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/json/JsonReader.class" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/com/json/User.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/com/example/soen_387_part_2/LoginServlet.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/example/soen_387_part_2/LoginServlet.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/com/example/soen_387_part_2/PollServlet.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/example/soen_387_part_2/PollServlet.class" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/AccessServicePage.jsp" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/AccessVotePage.jsp" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/target/soen_387_part_2-1.0-SNAPSHOT/PMServicePage.jsp" afterDir="false" />
@@ -107,13 +105,14 @@
   </component>
   <component name="PropertiesComponent">
     <property name="ASKED_ADD_EXTERNAL_FILES" value="true" />
+    <property name="ASKED_SHARE_PROJECT_CONFIGURATION_FILES" value="true" />
     <property name="DatabaseDriversLRU" value="mariadb&#10;mysql" />
     <property name="RunOnceActivity.OpenProjectViewOnStart" value="true" />
     <property name="RunOnceActivity.ShowReadmeOnStart" value="true" />
     <property name="SHARE_PROJECT_CONFIGURATION_FILES" value="true" />
     <property name="WebServerToolWindowFactoryState" value="false" />
     <property name="add_unversioned_files" value="$PROJECT_DIR$/target/classes/com/json/JsonReader.class" />
-    <property name="last_opened_file_path" value="$USER_HOME$/Desktop/backup/business_layer_part2.jar" />
+    <property name="last_opened_file_path" value="$PROJECT_DIR$/src/main/webapp/WEB-INF/lib" />
     <property name="nodejs_package_manager_path" value="npm" />
     <property name="project.structure.last.edited" value="Libraries" />
     <property name="project.structure.proportion" value="0.15429688" />
@@ -122,6 +121,7 @@
   </component>
   <component name="RecentsManager">
     <key name="CopyFile.RECENT_KEYS">
+      <recent name="C:\Users\tigerrrr\IdeaProjects\soesn_387_part_2TEMP\src\main\webapp\WEB-INF\lib" />
       <recent name="C:\Users\tigerrrr\IdeaProjects\soen_387_part_2\src\main\webapp\WEB-INF\lib" />
       <recent name="C:\Users\tigerrrr\IdeaProjects\soen_387_part_2\src\main\webapp" />
       <recent name="C:\Users\tigerrrr\IdeaProjects\soen_387_part_2\src\main\resources" />
@@ -284,7 +284,7 @@
       <workItem from="1637247093405" duration="332000" />
       <workItem from="1637256750733" duration="5308000" />
       <workItem from="1637264039385" duration="1123000" />
-      <workItem from="1637341840174" duration="8116000" />
+      <workItem from="1637341840174" duration="9143000" />
     </task>
     <task id="LOCAL-00001" summary="---login page us set up&#10;---business layer and data layer is in a temporary library">
       <created>1636641362135</created>
@@ -419,7 +419,14 @@
       <option name="project" value="LOCAL" />
       <updated>1637349585287</updated>
     </task>
-    <option name="localTasksCounter" value="20" />
+    <task id="LOCAL-00020" summary="---login page us set up&#10;---business layer and data layer is in a temporary library&#10;-- added files from project 1&#10;-- the relative path working&#10;-- sign up sends an error, from get method in LoginServlet&#10;-- changed sign-up link to register link&#10;-- poll manager and poll manager view is working&#10;-- added delete button and functionality&#10;-- new Driver for config&#10;-- updated downloadFile method for xml and json&#10;--download various format working&#10;-- access page displays errors&#10;-- error handling in AccessServicePage.jsp poll released and poll closed&#10;-- no userID the pollmanager is redirected to login page&#10;-- xml download">
+      <created>1637350683763</created>
+      <option name="number" value="00020" />
+      <option name="presentableId" value="LOCAL-00020" />
+      <option name="project" value="LOCAL" />
+      <updated>1637350683763</updated>
+    </task>
+    <option name="localTasksCounter" value="21" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
Index: target/soen_387_part_2-1.0-SNAPSHOT/VotingPage.jsp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><%@ page import=\"com.pollmanager.*\" %>\r\n<%@ page errorPage=\"errorPage.jsp\" %>\r\n<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\r\n<%@ include file=\"components/header.jsp\"%>\r\n<%@ include file=\"chartService.jsp\"%>\r\n<div class=\"container\">\r\n    <div class=\"col-0 justify-content-end\">\r\n        <a class=\"btn btn-primary\" href=\"AccessVotePage.jsp\">Back</a>\r\n    </div>\r\n    <div class=\"d-flex align-items-center justify-content-center\">\r\n\r\n        <% if(request.getSession().getAttribute(\"poll\") != null){ %>\r\n        <%\r\n            String message = \"\";\r\n            if(request.getSession().getAttribute(\"voted\") != null){\r\n                message = (String) session.getAttribute(\"message\");\r\n            }\r\n            Poll poll = (Poll) request.getSession().getAttribute(\"poll\");\r\n        %>\r\n        <% if(poll.getStatus() == PollStatus.RUNNING) { %>\r\n        <form class=\"w-100 d-flex justify-content-center\" action=\"${pageContext.request.contextPath}/PollServlet\" method=\"post\">\r\n            <div class=\"card\" style=\"width: 50%;\">\r\n                <div class=\"card-body\">\r\n                    <% if(!message.isEmpty()) { %>\r\n                    <div class=\"alert alert-success\" role=\"alert\">\r\n                        <%= message %>\r\n                    </div>\r\n                    <% } %>\r\n                    <h1 class=\"card-title display-4 text-center\"><%= poll.getTitle()+\"-\"+ session.getAttribute(\"voterPin\") %></h1>\r\n                    <h1 class=\"card-text display-6\"><%= poll.getQuestion() %></h1>\r\n                </div>\r\n                <ul class=\"list-group list-group-flush\">\r\n                    <% for (int i = 0; i < poll.getChoices().size(); i++) { %>\r\n                    <li class=\"list-group-item\">\r\n                        <input class=\"form-check-input\" type=\"radio\" id = \"choice_<%= i + 1%>\" value=\"<%= poll.getChoices().get(i).getChoiceID() %>\" name=\"choice\">\r\n                        <label class=\"form-check-label fs-5\" for=\"choice_<%= i + 1%>\">\r\n                            <%= poll.getChoices().get(i).getText()%>\r\n                            <br />\r\n                            <p><small><%= poll.getChoices().get(i).getDescription() %></small></p>\r\n                        </label>\r\n\r\n                    </li>\r\n                    <% } %>\r\n                </ul>\r\n                <div class=\"card-body d-grid gap-2 col-6 mx-auto\">\r\n                    <input type=\"hidden\" value=\"<%= session.getAttribute(\"voterPin\")%>\" name=\"voterPin\">\r\n                    <input type=\"hidden\" value=\"<%= poll.getPollID() %>\" name=\"pollID\">\r\n                    <button class=\"btn btn-primary\" type=\"submit\" name=\"vote\" value=\"vote\">Vote</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <% }else if(poll.getStatus() == PollStatus.RELEASED) { %>\r\n        <div class=\"card\">\r\n            <div class=\"card-body\">\r\n                <div id=\"piechart\" style=\"width: 900px; height: 500px;\"></div>\r\n            </div>\r\n            <div class=\"card-body \">\r\n                <form  class=\"w-100 \" action=\"${pageContext.request.contextPath}/PollServlet\" method=\"get\">\r\n                    <input type=\"hidden\" value=\"<%= poll.getPollID() %>\" name=\"pollID\">\r\n                    <div class=\"d-flex justify-content-center\">\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input class=\"form-check-input\" type=\"radio\" name=\"dataFormat\" id=\"txt\" value=\"txt\">\r\n                            <label class=\"form-check-label\" for=\"txt\">Plain Text</label>\r\n                        </div>\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input class=\"form-check-input\" type=\"radio\" name=\"dataFormat\" id=\"xml\" value=\"xml\">\r\n                            <label class=\"form-check-label\" for=\"xml\">XML</label>\r\n                        </div>\r\n                        <div class=\"form-check form-check-inline\">\r\n                            <input class=\"form-check-input\" type=\"radio\" name=\"dataFormat\" id=\"json\" value=\"json\">\r\n                            <label class=\"form-check-label\" for=\"json\">JSON</label>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"d-grid gap-2 col-6 mx-auto\">\r\n                        <input type=\"submit\" class=\"btn btn-primary\" name=\"Download\" value=\"Download\"/>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <% } }else{ %>\r\n        <h1>Currently there is no poll running</h1>\r\n        <% } %>\r\n    </div>\r\n</div>\r\n<%@include file=\"components/footer.jsp\"%>\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/VotingPage.jsp b/target/soen_387_part_2-1.0-SNAPSHOT/VotingPage.jsp
--- a/target/soen_387_part_2-1.0-SNAPSHOT/VotingPage.jsp	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/target/soen_387_part_2-1.0-SNAPSHOT/VotingPage.jsp	(date 1637349785552)
@@ -1,4 +1,6 @@
 <%@ page import="com.pollmanager.*" %>
+<%@ page import="java.security.Timestamp" %>
+<%@ page import="java.util.*" %>
 <%@ page errorPage="errorPage.jsp" %>
 <%@ page contentType="text/html;charset=UTF-8" language="java" %>
 <%@ include file="components/header.jsp"%>
@@ -16,6 +18,7 @@
                 message = (String) session.getAttribute("message");
             }
             Poll poll = (Poll) request.getSession().getAttribute("poll");
+            String pt = poll.getTitle() + "-" + poll.getReleasedAt() + ".xml";
         %>
         <% if(poll.getStatus() == PollStatus.RUNNING) { %>
         <form class="w-100 d-flex justify-content-center" action="${pageContext.request.contextPath}/PollServlet" method="post">
@@ -26,7 +29,7 @@
                         <%= message %>
                     </div>
                     <% } %>
-                    <h1 class="card-title display-4 text-center"><%= poll.getTitle()+"-"+ session.getAttribute("voterPin") %></h1>
+                    <h1 class="card-title display-4 text-center"><%= poll.getTitle() %></h1>
                     <h1 class="card-text display-6"><%= poll.getQuestion() %></h1>
                 </div>
                 <ul class="list-group list-group-flush">
@@ -46,6 +49,8 @@
                     <input type="hidden" value="<%= session.getAttribute("voterPin")%>" name="voterPin">
                     <input type="hidden" value="<%= poll.getPollID() %>" name="pollID">
                     <button class="btn btn-primary" type="submit" name="vote" value="vote">Vote</button>
+                    <br/>
+                    <p class="display-6">Your PIN: <%= session.getAttribute("voterPin") %></p>
                 </div>
             </div>
         </form>
@@ -55,26 +60,11 @@
                 <div id="piechart" style="width: 900px; height: 500px;"></div>
             </div>
             <div class="card-body ">
-                <form  class="w-100 " action="${pageContext.request.contextPath}/PollServlet" method="get">
-                    <input type="hidden" value="<%= poll.getPollID() %>" name="pollID">
-                    <div class="d-flex justify-content-center">
-                        <div class="form-check form-check-inline">
-                            <input class="form-check-input" type="radio" name="dataFormat" id="txt" value="txt">
-                            <label class="form-check-label" for="txt">Plain Text</label>
-                        </div>
-                        <div class="form-check form-check-inline">
-                            <input class="form-check-input" type="radio" name="dataFormat" id="xml" value="xml">
-                            <label class="form-check-label" for="xml">XML</label>
-                        </div>
-                        <div class="form-check form-check-inline">
-                            <input class="form-check-input" type="radio" name="dataFormat" id="json" value="json">
-                            <label class="form-check-label" for="json">JSON</label>
-                        </div>
-                    </div>
-                    <div class="d-grid gap-2 col-6 mx-auto">
-                        <input type="submit" class="btn btn-primary" name="Download" value="Download"/>
-                    </div>
-                </form>
+                <div class="d-flex justify-content-around">
+                    <a class="btn btn-primary" href="${pageContext.request.contextPath}/PollServlet?dataFormat=txt" download>Download As Plain Text</a>
+                    <a class="btn btn-primary" href="${pageContext.request.contextPath}/PollServlet?dataFormat=xml" download="<%= pt%> ">Download As XML</a>
+                    <a class="btn btn-primary" href="${pageContext.request.contextPath}/PollServlet?dataFormat=json" download>Download As JSON</a>
+                </div>
             </div>
         </div>
         <% } }else{ %>
Index: target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\r\n         version=\"4.0\">\r\n    <welcome-file-list>\r\n        <welcome-file>login_page.jsp</welcome-file>\r\n    </welcome-file-list>\r\n</web-app>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml b/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml
--- a/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml	(revision cb84c06743bfe653df927dc5414ae2f60d8230a2)
+++ b/target/soen_387_part_2-1.0-SNAPSHOT/WEB-INF/web.xml	(date 1637341928089)
@@ -6,4 +6,8 @@
     <welcome-file-list>
         <welcome-file>login_page.jsp</welcome-file>
     </welcome-file-list>
+    <error-page>
+        <error-code>500</error-code>
+        <location>/errorPage.jsp</location>
+    </error-page>
 </web-app>
\ No newline at end of file
